# Тестовое для Lesta Studio

Тесты по проверке данных кораблей в таблицах.

## Как использовать
Для начала установите необходимые библиотеки:
```shell
pip install requirements.txt
```
После заполните `.env`-файл по следующему шаблону:
```
MAIN_DB_NAME=<YOUR-MAIN-DB-NAME>
DUMP_DB_NAME=<YOUR-DUMP-DB-NAME>
```
Если переменные не будут указаны в переменных окружения, то значения будут выставлены по дефолту:
```
MAIN_DB_NAME=ships.sqlite3
DUMP_DB_NAME=ships_dump.sqlite3
```

В репозитории есть два скрипта:

- `create_db.py` - Создает БД, для будущей работы. Заполняет ее рандомными данными, в количестве: 200 кораблей, 20 оружий, 5 корпусов и 6 движков.

В репозитории уже лежит тестовая, можете использовать существующую БД, либо можете ее удалить и создать новую командой:
```shell
python3 create_db.py
```

- `tests.py` - Скрипт с тестами, который при инициализации создает дамп существующей базы и заполняет основную БД рандомными характеристиками. Запуск тестов происходит командой:
```shell
pytest -v tests.py
```
Подробное описание ошибок выводится в консоль в виде подобного репорта:
```shell
...
AssertionError: Ship-157, Engine-5
E                         power: expected 15, was 18
E
E                         type: expected 10, was 16
...
```